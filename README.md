Reproducer for a crash of the Godot editor when it is run in headless
mode and has a Rust gdextension.

Use the the following command in the root directory of this git
repository to reproduce the crash (requires
[Nix](https://nixos.org/download/)):


```sh
nix build
```

You can also just directly build it with without cloning the repository manually:

```sh
nix build github:MichaelMMacLeod/godot-crash-export
```

You may need to specify --experimental-features 'nix-command flakes' to enable flakes.

Building should fail with this crash:
```
================================================================
handle_crash: Program crashed with signal 11
Engine version: Godot Engine v4.5.1.stable.nixpkgs (f62fdbde15035c5576dad93e586201f4d41ef0cb)
Dumping the backtrace. Please include this when reporting the bug on: https://github.com/godotengine/godot/issues
[1] /nix/store/rcp9sdrrq8sfxkm5zdykglx7hd2gzbfy-glibc-2.40-66/lib/libc.so.6(+0x419c0) [0x7ffff2a419c0] (??:0)
[2] godot(+0x1a6d6de) [0x555556fc16de] (??:?)
[3] godot(+0x1a47a8c) [0x555556f9ba8c] (??:?)
[4] godot(+0x1a51bf5) [0x555556fa5bf5] (??:?)
[5] godot(+0x5089f31) [0x55555a5ddf31] (??:?)
[6] godot(+0x4d6989f) [0x55555a2bd89f] (??:?)
[7] godot(main+0x1aac) [0x555555c417ec] (??:?)
[8] /nix/store/rcp9sdrrq8sfxkm5zdykglx7hd2gzbfy-glibc-2.40-66/lib/libc.so.6(+0x2a4d8) [0x7ffff2a2a4d8] (??:0)
[9] /nix/store/rcp9sdrrq8sfxkm5zdykglx7hd2gzbfy-glibc-2.40-66/lib/libc.so.6(__libc_start_main+0x8b) [0x7ffff2a2a59b] (??:0)
[10] godot(+0x72fa05) [0x555555c83a05] (??:?)
-- END OF C++ BACKTRACE --
================================================================
/nix/store/k5z8rkvj1fn1nrf05l5a86aflc5s1p6m-stdenv-linux/setup: line 1766:    47 Aborted                    (core dumped) godot --path . --headless --export-debug "$GODOT_PRESET"
```

Here is a backtrace from the core dump:
```
Core was generated by `/nix/store/9np7aw0b9zwf65y24180pkv1qkd76rzn-godot-4.5.1-stable/bin/godot --path . --headless --export-debug Linux'.
Program terminated with signal SIGABRT, Aborted.
#0  0x00007ffff2a9caac in __pthread_kill_implementation () from /nix/store/rcp9sdrrq8sfxkm5zdykglx7hd2gzbfy-glibc-2.40-66/lib/libc.so.6
[Current thread is 1 (Thread 0x7ffff0874300 (LWP 47))]
(gdb) bt
#0  0x00007ffff2a9caac in __pthread_kill_implementation () from /nix/store/rcp9sdrrq8sfxkm5zdykglx7hd2gzbfy-glibc-2.40-66/lib/libc.so.6
#1  0x00007ffff2a4190e in raise () from /nix/store/rcp9sdrrq8sfxkm5zdykglx7hd2gzbfy-glibc-2.40-66/lib/libc.so.6
#2  0x00007ffff2a28942 in abort () from /nix/store/rcp9sdrrq8sfxkm5zdykglx7hd2gzbfy-glibc-2.40-66/lib/libc.so.6
#3  0x0000555555cf3082 in handle_crash(int) ()
#4  <signal handler called>
#5  0x0000555556fc16de in HashMap<String, DocData::ClassDoc, HashMapHasherDefault, HashMapComparatorDefault<String>, DefaultTypedAllocator<HashMapElement<String, DocData::ClassDoc> > >::operator[](String const&) ()
#6  0x0000555556f9ba8c in DocTools::generate(BitField<DocTools::GenerateFlags>) ()
#7  0x0000555556fa5bf5 in EditorHelp::_gen_extensions_docs() ()
#8  0x000055555a5ddf31 in CallQueue::_call_function(Callable const&, Variant const*, int, bool) [clone .isra.0] ()
#9  0x000055555a2bd89f in CallQueue::flush() ()
#10 0x0000555555c417ec in main ()
(gdb) 
```
